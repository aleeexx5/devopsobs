api:
  enabled: true 
  address: 0.0.0.0:8686 #expone las metricas de vector
sources:
  demo_logs:
    type: demo_logs   # logs de prueba
    interval: 1
    format: json
transforms:
  modify:
    type: remap
    inputs: 
      - demo_logs
    source: |
      . = parse_json!(string!(.message))
      .test = "hello"
      .timestamp, err = parse_timestamp(.datetime, format: "%d/%b/%Y:%H:%M:%S")
sinks:
  es_cluster:
    inputs:
      - "modify"       # cogemos los logs de sources
    type: "elasticsearch"
    endpoints:
      - "http://elasticsearch:9200"
    bulk:
      index: "vector-logs"